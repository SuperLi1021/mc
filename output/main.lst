C51 COMPILER V9.60.0.0   MAIN                                                              08/18/2021 16:01:47 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN ..\output\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\user\sys;C:\Keil_v5\C51\INC;C:
                    -\Keil_v5\C51\INC\SONIX;C:\Keil_v5\C51\INC;C:\Keil_v5\C51\INC) DEBUG OBJECTEXTEND PRINT(..\output\main.lst) TABS(2) OBJEC
                    -T(..\output\main.obj)

line level    source

   1          /*********************************************************************/
   2          /*公司名称： 深圳市朗科智能电气股份有限公司                          */
   3          /*模 块 名： 获取红外信号                                          */
   4          /*创 建 人： LICHAOFAN     日期：2021-08-13                          */
   5          /*修 改 人： LICHAOFAN     日期：2021-08-13                          */
   6          /*功能描述： 获取红外信号                                              */
   7          /*其他说明：                                                         */
   8          /*版本：
   9          /**********************************************************************/
  10          #include <intrins.h>    
  11          #include <SN8F5702.h>
  12          #include "display.h"
  13          #include "sys.h"
  14          
  15          /********************************定义全局字节变量*********************/
  16          unsigned int PinT;
  17          unsigned char Level,PinBit,SWFlag,SWFlags,HWFlag,sw;
  18          /********************************定义全局位变量***********************/
  19          
  20          /*********************************************************************
  21          * 函 数 名： main
  22          * 功能描述： 主函数
  23          * 函数说明： 主函数
  24          * 调用函数： 
  25          * 全局变量： PinT
  26          * 输 入： 无
  27          * 返 回： 无
  28          * 设 计 者：LICHAOFAN 日期：2021-08-13
  29          * 修 改 者：LICHAOFAN 日期：2021-08-13
  30          /*版本：
  31          /**********************************************************************/
  32          void main(void) 
  33          { 
  34   1          WDTR = 0x5A;                //看门狗复位  
  35   1          InitT0T1();                 //定时器初始化
  36   1          InitT2();
  37   1          P1M=0xfE;                   //io端口初始化
  38   1          P0M=0XEf; 
  39   1          P0OC=0X10;
  40   1          P2M=0X00;
  41   1          Level=60;
  42   1          while (1) 
  43   1          {  WDTR = 0x5A;
  44   2                  switch(PinT)                          //显示接收到的信号，
  45   2              {   
  46   3                  case 0x0277: Level=1 ;display(Level);break;
  47   3                  case 0x0239: Level=20;display(Level);break;
  48   3                  case 0x025F: Level=50;display(Level);break;
  49   3                  case 0x027E: Level=60;display(Level);break;
  50   3                default:display(Level);break; 
  51   3              }
  52   2                  if(sw==1)                           //对接收到的有次数要求的信号进行处理并显示      
  53   2            {    sw=0;
C51 COMPILER V9.60.0.0   MAIN                                                              08/18/2021 16:01:47 PAGE 2   

  54   3                    switch(PinT)            
  55   3                  {   case 0x026F: if(Level>=20)Level=Level-10;;display(Level);break;
  56   4                                                //+ 
  57   4                      case 0x027B: SWFlags=~SWFlags;display(Level);break;         
  58   4                                                //开关
  59   4                          case 0x027D: if(Level<=50)Level=Level+10;display(Level);break;
  60   4                                              //-
  61   4                          default:display(Level);break; 
  62   4                      }
  63   3                  } 
  64   2            if(SWFlags==0xff)
  65   2            {
  66   3              if((P1&0X01)==0x01)                     //仅当遥控开关与按键开关均处于打开状态
  67   3              {                             //才启动电机        
  68   4                
  69   4                SWFlag=1;
  70   4              }
  71   3              else                            //否则电机不动
  72   3                SWFlag=0;
  73   3            }
  74   2            else
  75   2            SWFlag=0;
  76   2      
  77   2      
  78   2          }
  79   1      }
  80          
  81          
  82          
  83          
  84          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    191    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
